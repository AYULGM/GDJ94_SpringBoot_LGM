<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

		<!-- 풀패키지명.클래스명 -->
	<mapper namespace="com.winter.app.board.BoardDAO">
		
		<select id="list" resultType="com.winter.app.board.BoardDTO">
			SELECT * FROM BOARD ORDER BY NUM DESC
		</select>
	
	
		<!-- 상세 정보 조회하는 쿼리문, id엔 사용하는 메서드명과 동일하게 넣음, 쿼리문엔 띄어쓰기 들어가면 안됨 -->
		<!-- 클래스명은 중복가능하기 때문에 풀패키지명.클래스명 적어야함. BoardDTO객체를 리턴해주는데 없다면 null을 반환한다. -->
		<select id="detail" resultType="com.winter.app.board.BoardDTO" parameterType="com.winter.app.board.BoardDTO">
			<!-- get 빼고 남은것의 첫글자를 소문자로 바꾼것 -->
			SELECT * FROM BOARD WHERE NUM=#{num}
		</select>
		
		<!-- 인서트,업데이트,딜리트는 반환값이 무조건 int라 resultType이 없음(있을필요가없으니까) -->
		<insert id="add" parameterType="com.winter.app.board.BoardDTO">
			INSERT INTO BOARD (title, writer, contents, date, hit) 
			VALUES(#{title}, #{writer}, #{contents}, now(), 0)
		</insert>
		
		<!-- java.lang. 은 import안해도 되니 생략 -->
		<delete id="delete" parameterType="Long">
			DELETE FROM BOARD WHERE NUM=#{num2}
		</delete>
		
		<!-- num은 Long, title,contents는 String인데 파라미터타입은 한개밖에 못넘겨줘. 그러면 BoardDTO -->
<!-- 		<update id="update" parameterType="com.winter.app.board.BoardDTO">
			UPDATE board SET title =#{title},
				    		 contents =#{contents}
							 WHERE NUM =#{num}
		</update> -->
		<!-- 이번에 Map으로 해보자 ,키를 넘긴다.-->
		<update id="update" parameterType="java.util.Map">
			UPDATE board SET title =#{t},
				    		 contents =#{c}
							 WHERE NUM =#{n}
		</update>
		
	</mapper>